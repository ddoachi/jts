# Generated from spec: E01-F02-T04 (Environment Configuration and Secrets Management)
# Spec ID: 021bbc7e
# ============================================================
# JTS Development Environment Configuration Template
# Copy this file to .env.local and add your actual credentials
# .env.local is gitignored and should never be committed
# ============================================================

# === Application Configuration ===
NODE_ENV=development
PORT=3000
API_VERSION=v1

# === Service Ports Configuration ===
# PostgreSQL - Core business data (trading, analytics, audit schemas)
# Default PostgreSQL port is 5432, but we use 5442 to avoid common conflicts
POSTGRES_PORT=5442

# ClickHouse - Time-series market data storage
# HTTP interface for queries and health checks
CLICKHOUSE_HTTP_PORT=8123
# Native protocol for high-performance data ingestion
CLICKHOUSE_NATIVE_PORT=9000

# MongoDB - Configuration and strategy storage
MONGODB_PORT=27017

# Redis - Caching, rate limiting, and session storage
# Configured with 16 databases for multi-account support
REDIS_PORT=6379

# Kafka - Message broker for event streaming
KAFKA_PORT=9092
# Internal listener for inter-broker communication
KAFKA_INTERNAL_PORT=9093

# Zookeeper - Kafka coordination service
# Usually not accessed directly by applications
ZOOKEEPER_PORT=2181

# Grafana - Monitoring and visualization dashboard
# Access at http://localhost:3100 (maps to internal port 3000)
GRAFANA_PORT=3100

# === Database Configuration ===
# Database names
POSTGRES_DB=jts_trading_dev
CLICKHOUSE_DB=jts_market_data_dev
MONGODB_DB=jts_config_dev

# Database users
POSTGRES_USER=jts_admin
CLICKHOUSE_USER=jts_ch
MONGODB_USER=jts_mongo

# Common password for all services in development
# NEVER use this in production!
DEV_PASSWORD=dev_password

# Database URLs (Local Development)
DATABASE_URL=postgresql://jts_admin:dev_password@localhost:5442/jts_trading_dev
CLICKHOUSE_URL=http://jts_ch:dev_password@localhost:8123/jts_market_data_dev
MONGODB_URL=mongodb://jts_mongo:dev_password@localhost:27017/jts_config_dev
REDIS_URL=redis://localhost:6379

# === Kafka Configuration ===
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=jts-dev
KAFKA_GROUP_ID=jts-trading-dev

# === JWT Configuration (Development) ===
JWT_SECRET=your-dev-jwt-secret-key-change-this
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# === Creon Configuration (Windows Only) ===
CREON_ENABLED=false
CREON_SCRIPT_PATH=/secure/creon/scripts/creon-launcher.bat
CREON_CREDENTIALS_PATH=/secure/creon/credentials/
CREON_LOG_PATH=/secure/creon/logs/
CREON_AUTO_LOGIN_SCRIPT=auto-login.bat

# === KIS Multi-Account Configuration ===
# Total number of KIS accounts (currently 2, scalable to 5)
KIS_TOTAL_ACCOUNTS=2

# Account 1 - Primary
KIS_ACCOUNT_1_ID=KIS_001
KIS_ACCOUNT_1_NAME=Primary_Account
KIS_ACCOUNT_1_APPKEY=your_kis_appkey_1_here
KIS_ACCOUNT_1_APPSECRET=your_kis_appsecret_1_here
KIS_ACCOUNT_1_NUMBER=your_account_number_1
KIS_ACCOUNT_1_ENABLED=true

# Account 2 - Secondary
KIS_ACCOUNT_2_ID=KIS_002
KIS_ACCOUNT_2_NAME=Secondary_Account
KIS_ACCOUNT_2_APPKEY=your_kis_appkey_2_here
KIS_ACCOUNT_2_APPSECRET=your_kis_appsecret_2_here
KIS_ACCOUNT_2_NUMBER=your_account_number_2
KIS_ACCOUNT_2_ENABLED=true

# Account 3 - Reserved (Future)
KIS_ACCOUNT_3_ID=KIS_003
KIS_ACCOUNT_3_NAME=Reserved_Account_3
KIS_ACCOUNT_3_APPKEY=your_kis_appkey_3_here
KIS_ACCOUNT_3_APPSECRET=your_kis_appsecret_3_here
KIS_ACCOUNT_3_NUMBER=your_account_number_3
KIS_ACCOUNT_3_ENABLED=false

# Account 4 - Reserved (Future)
KIS_ACCOUNT_4_ID=KIS_004
KIS_ACCOUNT_4_NAME=Reserved_Account_4
KIS_ACCOUNT_4_APPKEY=your_kis_appkey_4_here
KIS_ACCOUNT_4_APPSECRET=your_kis_appsecret_4_here
KIS_ACCOUNT_4_NUMBER=your_account_number_4
KIS_ACCOUNT_4_ENABLED=false

# Account 5 - Reserved (Future)
KIS_ACCOUNT_5_ID=KIS_005
KIS_ACCOUNT_5_NAME=Reserved_Account_5
KIS_ACCOUNT_5_APPKEY=your_kis_appkey_5_here
KIS_ACCOUNT_5_APPSECRET=your_kis_appsecret_5_here
KIS_ACCOUNT_5_NUMBER=your_account_number_5
KIS_ACCOUNT_5_ENABLED=false

# === Rate Limiting Configuration ===
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100

# KIS Rate Limits (per account)
KIS_RATE_LIMIT_PER_SECOND=20
KIS_RATE_LIMIT_PER_MINUTE=200

# === Logging Configuration ===
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_DIRECTORY=./logs

# === Development Features ===
ENABLE_SWAGGER=true
ENABLE_DEBUG_ROUTES=true
ENABLE_MOCK_DATA=true

# === External APIs - Crypto (Optional - Not Currently Used) ===
# Binance (Reserved for future use)
BINANCE_ENABLED=false
BINANCE_API_KEY=your_binance_key_here_when_available
BINANCE_SECRET_KEY=your_binance_secret_here_when_available

# Upbit (Reserved for future use)
UPBIT_ENABLED=false
UPBIT_ACCESS_KEY=your_upbit_access_here_when_available
UPBIT_SECRET_KEY=your_upbit_secret_here_when_available

# === Security Configuration ===
CORS_ORIGINS=http://localhost:3000,http://localhost:4200
SESSION_SECRET=your-session-secret-change-this
ENCRYPTION_KEY=your-encryption-key-change-this

# === Monitoring & Alerts ===
MONITORING_ENABLED=false
ALERT_WEBHOOK_URL=
HEALTH_CHECK_INTERVAL=30000

# === Testing Configuration ===
TEST_DATABASE_URL=postgresql://jts_test:test_password@localhost:5432/jts_trading_test
TEST_REDIS_URL=redis://localhost:6380

# === Quick Reference - Service URLs ===
# After running: ./scripts/dev-services.sh start
# 
# PostgreSQL:  psql -h localhost -p 5442 -U jts_admin -d jts_trading_dev
# MongoDB:     mongosh mongodb://jts_mongo:dev_password@localhost:27017/jts_config_dev
# Redis:       redis-cli -p 6379
# ClickHouse:  curl http://localhost:8123/ping
# Grafana:     http://localhost:3100 (admin/dev_password)
# Kafka:       localhost:9092
